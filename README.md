# pcopy
pcopy is an across-the-network clipboard that allows copying (`pcp < file.txt`) and pasting (`ppaste > file.txt`)
across different computers. Other users can be invited to join (`pcopy invite`), or simply join by specifying 
the hostname (`pcopy join`). 

Clipboards can have passwords, or they can be open for everyone. Also, there is a small web UI.

![pcopy demo](assets/demo-simple.gif)

To see what else pcopy can do, check out the **[live demo](#demo)** or the [other videos](VIDEOS.md) I made.

## Isn't this like ...?
It's similar to [pbcopy/pbpaste](https://osxdaily.com/2007/03/05/manipulating-the-clipboard-from-the-command-line/), yes, 
but across the network. You can copy on your laptop and paste on your servers.

It may also replace [scp](https://linux.die.net/man/1/scp) or [rsync](https://linux.die.net/man/1/rsync) in simple cases,
when you just want to copy a file or folder across to another computer. 

## Installation
Binaries can be found on the [releases page](https://github.com/binwiederhier/pcopy/releases). Alternatively, for a 
quick install, run:
```bash
curl -sSL https://heckel.io:2586/install | sudo sh
```

## Usage
**To setup a new pcopy server**, run `sudo pcopy setup`. It'll walk you through a setup wizard. After that, you can run
the server via `sudo systemctl start pcopy` (or manually via `sudo -u pcopy pcopy serve`).

**To join an existing clipboard**, simple run `pcopy join <host>>`:
```bash
$ pcopy join pcopy.example.com
Successfully joined clipboard, config written to ~/.config/pcopy/default.conf

You may now use 'pcp' and 'ppaste'. See 'pcopy -h' for usage details.
To install pcopy on other computers, or join this clipboard, use 'pcopy invite' command.
```

**Now you can start copying and pasting** by using `pcp` (`pcopy copy`) and `ppaste` (`pcopy paste`). Any connected
client, regardless of what computer it's on, can copy/paste like this:

```bash
$ pcp < foo.txt            # Copies foo.txt to the default clipboard
$ pcp bar < bar.txt        # Copies bar.txt to the default clipboard as 'bar'
$ echo hi | pcp work:      # Copies 'hi' to the 'work' clipboard
$ echo ho | pcp work:bla   # Copies 'ho' to the 'work' clipboard as 'bla'

$ ppaste                   # Reads from the default clipboard and prints its contents
$ ppaste bar > bar.txt     # Reads 'bar' from the default clipboard to file 'bar.txt'
$ ppaste work:             # Reads from the 'work' clipboard and prints its contents
$ ppaste work:ho > ho.txt  # Reads 'ho' from the 'work' clipboard to file 'ho.txt'
```

More details can be found on the help page:
```bash 
$ pcopy -help
Usage: pcopy COMMAND [OPTION..] [ARG..]

Client-side commands:
  copy      Read from STDIN/file(s) and copy to remote clipboard
  paste     Write remote clipboard contents to STDOUT/file(s)
  join      Join a remote clipboard
  list      Lists all of the clipboards that have been joined
  invite    Generate commands to invite others to join a clipboard
  link      Generate direct download link to clipboard content

Server-side commands:
  setup     Initial setup wizard for a new pcopy server
  serve     Start pcopy server
  keygen    Generate key for the server config

Try 'pcopy COMMAND -help' for more information.
```

## Configuration
The pcopy server is configured in a config file `/etc/pcopy/server.conf`. A new server config can be generated by 
running `sudo pcopy setup`. Check out the [videos page](VIDEOS.md) to see what that looks like.

Each client clipboard has its own config file, either in `~/.config/pcopy` or in `/etc/pcopy` (for root). It is also
generated when you join a clipboard via `pcopy join`. 

The config file is well-documented. A skeleton config can be found in [configs/pcopy.conf](configs/pcopy.conf).

## Demo
I have a **demo clipboard** running that you can play with:

- To join via the command line: `pcopy join heckel.io` (password: *demo*)
- Or use the [web UI](https://heckel.io:2586) (password: *demo*; note that this is work in progress)

I also made a couple **[more videos](VIDEOS.md)** to show what else pcopy can do.

![pcopy web UI demo](assets/demo-webui.gif)

## Inspired by
Thanks [nakabonne](https://github.com/nakabonne) for making [pbgopy](https://github.com/nakabonne/pbgopy). It inspired 
me to make pcopy. 

## License
Made with ❤️ by [Philipp C. Heckel](https://heckel.io), distributed under the [Apache License 2.0](LICENSE).

Third party libraries:
* [GoReleaser](https://goreleaser.com/) (MIT) is used to create releases 
* [CryptoJS](https://github.com/brix/crypto-js) (MIT) is used for key derivation and such in the Web UI
* [Lato Font](https://www.latofonts.com/) (OFL) is used as a font in the Web UI

Code and posts that helped:
* [Drag & Drop](https://stackoverflow.com/a/33917000/1440785) (CC BY-SA 3.0)
* [Progress indicator](https://github.com/machinebox/progress) (Apache 2.0)
* [Full page centering](https://medium.com/creative-technology-concepts-code/full-page-site-with-vertical-centering-using-css-only-7858ed6764c4)
* [Human readable file sizes](https://yourbasic.org/golang/formatting-byte-size-to-human-readable-format/)
